{
    "sourceFile": "src/views/UsersList.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 12,
            "patches": [
                {
                    "date": 1697624622255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1697624627904,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,98 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+class UsersList extends Component {\r\n+    state = {\r\n+        galleries: [],\r\n+    };\r\n+\r\n+    componentDidMount() {\r\n+        // Fetch galleries from the API when the component mounts\r\n+        axios\r\n+            .get(\"http://localhost:8086/galleries\")\r\n+            .then((response) => {\r\n+                const galleries = response.data;\r\n+                this.setState({ galleries }); // Load galleries\r\n+                toast.success(\"Welcome to list gallery\");\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error fetching galleries:\", error);\r\n+            });\r\n+    }\r\n+\r\n+    handleDelete = (galleryId) => {\r\n+        // Make a DELETE request to delete the gallery with the given ID\r\n+        axios\r\n+            .delete(`http://localhost:8086/galleries/${galleryId}`)\r\n+            .then((response) => {\r\n+                // Remove the deleted gallery from the state\r\n+                this.setState((prevState) => ({\r\n+                    galleries: prevState.galleries.filter((gallery) => gallery.id !== galleryId),\r\n+                }));\r\n+\r\n+                // Display a success notification\r\n+                toast.success(\"Gallery deleted successfully\");\r\n+\r\n+                console.log(\"Gallery deleted:\", response.data);\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error deleting gallery:\", error);\r\n+            });\r\n+    };\r\n+\r\n+    render() {\r\n+        const { galleries } = this.state;\r\n+\r\n+        return (\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625120474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,98 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+class UsersList extends Component {\r\n+    state = {\r\n+        galleries: [],\r\n+    };\r\n+\r\n+    componentDidMount() {\r\n+        // Fetch galleries from the API when the component mounts\r\n+        axios\r\n+            .get(\"http://localhost:8086/galleries\")\r\n+            .then((response) => {\r\n+                const galleries = response.data;\r\n+                this.setState({ galleries }); // Load galleries\r\n+                toast.success(\"Welcome to Users list gallery\");\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error fetching galleries:\", error);\r\n+            });\r\n+    }\r\n+\r\n+    handleDelete = (galleryId) => {\r\n+        // Make a DELETE request to delete the gallery with the given ID\r\n+        axios\r\n+            .delete(`http://localhost:8086/galleries/${galleryId}`)\r\n+            .then((response) => {\r\n+                // Remove the deleted gallery from the state\r\n+                this.setState((prevState) => ({\r\n+                    galleries: prevState.galleries.filter((gallery) => gallery.id !== galleryId),\r\n+                }));\r\n+\r\n+                // Display a success notification\r\n+                toast.success(\"Gallery deleted successfully\");\r\n+\r\n+                console.log(\"Gallery deleted:\", response.data);\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error deleting gallery:\", error);\r\n+            });\r\n+    };\r\n+\r\n+    render() {\r\n+        const { galleries } = this.state;\r\n+\r\n+        return (\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625132627,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,98 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+class UsersList extends Component {\r\n+    state = {\r\n+        galleries: [],\r\n+    };\r\n+\r\n+    componentDidMount() {\r\n+        // Fetch galleries from the API when the component mounts\r\n+        axios\r\n+            .get(\"http://localhost:5000/galleries\")\r\n+            .then((response) => {\r\n+                const galleries = response.data;\r\n+                this.setState({ galleries }); // Load galleries\r\n+                toast.success(\"Welcome to Users list\");\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error fetching galleries:\", error);\r\n+            });\r\n+    }\r\n+\r\n+    handleDelete = (galleryId) => {\r\n+        // Make a DELETE request to delete the gallery with the given ID\r\n+        axios\r\n+            .delete(`http://localhost:8086/galleries/${galleryId}`)\r\n+            .then((response) => {\r\n+                // Remove the deleted gallery from the state\r\n+                this.setState((prevState) => ({\r\n+                    galleries: prevState.galleries.filter((gallery) => gallery.id !== galleryId),\r\n+                }));\r\n+\r\n+                // Display a success notification\r\n+                toast.success(\"Gallery deleted successfully\");\r\n+\r\n+                console.log(\"Gallery deleted:\", response.data);\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error deleting gallery:\", error);\r\n+            });\r\n+    };\r\n+\r\n+    render() {\r\n+        const { galleries } = this.state;\r\n+\r\n+        return (\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625152342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,98 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+class UsersList extends Component {\r\n+    state = {\r\n+        galleries: [],\r\n+    };\r\n+\r\n+    // componentDidMount() {\r\n+    //     // Fetch galleries from the API when the component mounts\r\n+    //     axios\r\n+    //         .get(\"http://localhost:5000/users\")\r\n+    //         .then((response) => {\r\n+    //             const galleries = response.data;\r\n+    //             this.setState({ galleries }); // Load galleries\r\n+    //             toast.success(\"Welcome to Users list\");\r\n+    //         })\r\n+    //         .catch((error) => {\r\n+    //             console.error(\"Error fetching galleries:\", error);\r\n+    //         });\r\n+    // }\r\n+\r\n+    handleDelete = (galleryId) => {\r\n+        // Make a DELETE request to delete the gallery with the given ID\r\n+        axios\r\n+            .delete(`http://localhost:8086/galleries/${galleryId}`)\r\n+            .then((response) => {\r\n+                // Remove the deleted gallery from the state\r\n+                this.setState((prevState) => ({\r\n+                    galleries: prevState.galleries.filter((gallery) => gallery.id !== galleryId),\r\n+                }));\r\n+\r\n+                // Display a success notification\r\n+                toast.success(\"Gallery deleted successfully\");\r\n+\r\n+                console.log(\"Gallery deleted:\", response.data);\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error deleting gallery:\", error);\r\n+            });\r\n+    };\r\n+\r\n+    render() {\r\n+        const { galleries } = this.state;\r\n+\r\n+        return (\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625162213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,21 +9,21 @@\n     state = {\r\n         galleries: [],\r\n     };\r\n \r\n-    // componentDidMount() {\r\n-    //     // Fetch galleries from the API when the component mounts\r\n-    //     axios\r\n-    //         .get(\"http://localhost:5000/users\")\r\n-    //         .then((response) => {\r\n-    //             const galleries = response.data;\r\n-    //             this.setState({ galleries }); // Load galleries\r\n-    //             toast.success(\"Welcome to Users list\");\r\n-    //         })\r\n-    //         .catch((error) => {\r\n-    //             console.error(\"Error fetching galleries:\", error);\r\n-    //         });\r\n-    // }\r\n+    componentDidMount() {\r\n+        // Fetch galleries from the API when the component mounts\r\n+        axios\r\n+            .get(\"http://localhost:8086/galleries\")\r\n+            .then((response) => {\r\n+                const galleries = response.data;\r\n+                this.setState({ galleries }); // Load galleries\r\n+                toast.success(\"Welcome to list gallery\");\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error fetching galleries:\", error);\r\n+            });\r\n+    }\r\n \r\n     handleDelete = (galleryId) => {\r\n         // Make a DELETE request to delete the gallery with the given ID\r\n         axios\r\n@@ -94,5 +94,5 @@\n         );\r\n     }\r\n }\r\n \r\n-export default UsersList;\r\n+export default GalleryList;\r\n"
                },
                {
                    "date": 1697625170293,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,98 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+class UsersList extends Component {\r\n+    state = {\r\n+        galleries: [],\r\n+    };\r\n+\r\n+    componentDidMount() {\r\n+        // Fetch galleries from the API when the component mounts\r\n+        axios\r\n+            .get(\"http://localhost:8086/galleries\")\r\n+            .then((response) => {\r\n+                const galleries = response.data;\r\n+                this.setState({ galleries }); // Load galleries\r\n+                toast.success(\"Welcome to Users list gallery\");\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error fetching galleries:\", error);\r\n+            });\r\n+    }\r\n+\r\n+    handleDelete = (galleryId) => {\r\n+        // Make a DELETE request to delete the gallery with the given ID\r\n+        axios\r\n+            .delete(`http://localhost:8086/galleries/${galleryId}`)\r\n+            .then((response) => {\r\n+                // Remove the deleted gallery from the state\r\n+                this.setState((prevState) => ({\r\n+                    galleries: prevState.galleries.filter((gallery) => gallery.id !== galleryId),\r\n+                }));\r\n+\r\n+                // Display a success notification\r\n+                toast.success(\"Gallery deleted successfully\");\r\n+\r\n+                console.log(\"Gallery deleted:\", response.data);\r\n+            })\r\n+            .catch((error) => {\r\n+                console.error(\"Error deleting gallery:\", error);\r\n+            });\r\n+    };\r\n+\r\n+    render() {\r\n+        const { galleries } = this.state;\r\n+\r\n+        return (\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625244255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,133 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+class UsersList extends Component {\r\n+    const [users, setUsers] = useState([]);\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+  \r\n+    const fetchData = async () => {\r\n+      try {\r\n+        const response = await axios.get(\"http://127.0.0.1:5000/all-users\");\r\n+        const filteredData = response.data.users.filter(\r\n+          (user) => user.role === \"Agence\" || user.role === \"Admin\" || user.role === \"Client\"\r\n+        );\r\n+  \r\n+        console.log(filteredData);\r\n+        setUsers(filteredData);\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+    };\r\n+  \r\n+    function getCookie(key) {\r\n+      var b = document.cookie.match(\"(^|;)\\\\s*\" + key + \"\\\\s*=\\\\s*([^;]+)\");\r\n+      return b ? b.pop() : \"\";\r\n+    }\r\n+  \r\n+    useEffect(() => {\r\n+      /*\r\n+      if (getCookie(\"role\") !== \"admin\") window.location.href = \"/auth/login\";*/\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      fetchData();\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      console.log(users);\r\n+    }, [users]);\r\n+  \r\n+    const pageSize = 5;\r\n+    const pageCount = Math.ceil(users.length / pageSize);\r\n+    const pages = Array.from({ length: pageCount }, (_, i) => i + 1);\r\n+  \r\n+    const handlePageClick = (page) => {\r\n+      setCurrentPage(page);\r\n+    };\r\n+  \r\n+  \r\n+  \r\n+    const handleBanUser = async (e, user) => {\r\n+      e.preventDefault();\r\n+  \r\n+      try {\r\n+        const response = await axios.post(\r\n+          \"http://127.0.0.1:5000/users/ban/\" + user.email\r\n+        );\r\n+  \r\n+        console.log(response);\r\n+        fetchData();\r\n+        user.banned = !user.banned;\r\n+        if (response.data === true) {\r\n+        }\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+      return;\r\n+    };\r\n+    const paginatedUsers = users.slice(\r\n+      (currentPage - 1) * pageSize,\r\n+      currentPage * pageSize\r\n+    );\r\n+  \r\n+    const handleUserClick = (email) => {\r\n+      // navigate to user details page with id\r\n+      window.location.href = `/admin/user-profile/${email}`;\r\n+    };\r\n+  \r\n+    render() {\r\n+        const { galleries } = this.state;\r\n+\r\n+        return (\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625263321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,133 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+function UsersList extends Component {\r\n+    const [users, setUsers] = useState([]);\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+  \r\n+    const fetchData = async () => {\r\n+      try {\r\n+        const response = await axios.get(\"http://127.0.0.1:5000/all-users\");\r\n+        const filteredData = response.data.users.filter(\r\n+          (user) => user.role === \"Agence\" || user.role === \"Admin\" || user.role === \"Client\"\r\n+        );\r\n+  \r\n+        console.log(filteredData);\r\n+        setUsers(filteredData);\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+    };\r\n+  \r\n+    function getCookie(key) {\r\n+      var b = document.cookie.match(\"(^|;)\\\\s*\" + key + \"\\\\s*=\\\\s*([^;]+)\");\r\n+      return b ? b.pop() : \"\";\r\n+    }\r\n+  \r\n+    useEffect(() => {\r\n+      /*\r\n+      if (getCookie(\"role\") !== \"admin\") window.location.href = \"/auth/login\";*/\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      fetchData();\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      console.log(users);\r\n+    }, [users]);\r\n+  \r\n+    const pageSize = 5;\r\n+    const pageCount = Math.ceil(users.length / pageSize);\r\n+    const pages = Array.from({ length: pageCount }, (_, i) => i + 1);\r\n+  \r\n+    const handlePageClick = (page) => {\r\n+      setCurrentPage(page);\r\n+    };\r\n+  \r\n+  \r\n+  \r\n+    const handleBanUser = async (e, user) => {\r\n+      e.preventDefault();\r\n+  \r\n+      try {\r\n+        const response = await axios.post(\r\n+          \"http://127.0.0.1:5000/users/ban/\" + user.email\r\n+        );\r\n+  \r\n+        console.log(response);\r\n+        fetchData();\r\n+        user.banned = !user.banned;\r\n+        if (response.data === true) {\r\n+        }\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+      return;\r\n+    };\r\n+    const paginatedUsers = users.slice(\r\n+      (currentPage - 1) * pageSize,\r\n+      currentPage * pageSize\r\n+    );\r\n+  \r\n+    const handleUserClick = (email) => {\r\n+      // navigate to user details page with id\r\n+      window.location.href = `/admin/user-profile/${email}`;\r\n+    };\r\n+  \r\n+    render() {\r\n+        const { galleries } = this.state;\r\n+\r\n+        return (\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625274681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,133 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+function UsersList (){\r\n+    const [users, setUsers] = useState([]);\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+  \r\n+    const fetchData = async () => {\r\n+      try {\r\n+        const response = await axios.get(\"http://127.0.0.1:5000/all-users\");\r\n+        const filteredData = response.data.users.filter(\r\n+          (user) => user.role === \"Agence\" || user.role === \"Admin\" || user.role === \"Client\"\r\n+        );\r\n+  \r\n+        console.log(filteredData);\r\n+        setUsers(filteredData);\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+    };\r\n+  \r\n+    function getCookie(key) {\r\n+      var b = document.cookie.match(\"(^|;)\\\\s*\" + key + \"\\\\s*=\\\\s*([^;]+)\");\r\n+      return b ? b.pop() : \"\";\r\n+    }\r\n+  \r\n+    useEffect(() => {\r\n+      /*\r\n+      if (getCookie(\"role\") !== \"admin\") window.location.href = \"/auth/login\";*/\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      fetchData();\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      console.log(users);\r\n+    }, [users]);\r\n+  \r\n+    const pageSize = 5;\r\n+    const pageCount = Math.ceil(users.length / pageSize);\r\n+    const pages = Array.from({ length: pageCount }, (_, i) => i + 1);\r\n+  \r\n+    const handlePageClick = (page) => {\r\n+      setCurrentPage(page);\r\n+    };\r\n+  \r\n+  \r\n+  \r\n+    const handleBanUser = async (e, user) => {\r\n+      e.preventDefault();\r\n+  \r\n+      try {\r\n+        const response = await axios.post(\r\n+          \"http://127.0.0.1:5000/users/ban/\" + user.email\r\n+        );\r\n+  \r\n+        console.log(response);\r\n+        fetchData();\r\n+        user.banned = !user.banned;\r\n+        if (response.data === true) {\r\n+        }\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+      return;\r\n+    };\r\n+    const paginatedUsers = users.slice(\r\n+      (currentPage - 1) * pageSize,\r\n+      currentPage * pageSize\r\n+    );\r\n+  \r\n+    const handleUserClick = (email) => {\r\n+      // navigate to user details page with id\r\n+      window.location.href = `/admin/user-profile/${email}`;\r\n+    };\r\n+  \r\n+    render() {\r\n+        const { galleries } = this.state;\r\n+\r\n+        return (\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625299906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,132 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+function UsersList() {\r\n+    const [users, setUsers] = useState([]);\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+  \r\n+    const fetchData = async () => {\r\n+      try {\r\n+        const response = await axios.get(\"http://127.0.0.1:5000/all-users\");\r\n+        const filteredData = response.data.users.filter(\r\n+          (user) => user.role === \"Agence\" || user.role === \"Admin\" || user.role === \"Client\"\r\n+        );\r\n+  \r\n+        console.log(filteredData);\r\n+        setUsers(filteredData);\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+    };\r\n+  \r\n+    function getCookie(key) {\r\n+      var b = document.cookie.match(\"(^|;)\\\\s*\" + key + \"\\\\s*=\\\\s*([^;]+)\");\r\n+      return b ? b.pop() : \"\";\r\n+    }\r\n+  \r\n+    useEffect(() => {\r\n+      /*\r\n+      if (getCookie(\"role\") !== \"admin\") window.location.href = \"/auth/login\";*/\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      fetchData();\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      console.log(users);\r\n+    }, [users]);\r\n+  \r\n+    const pageSize = 5;\r\n+    const pageCount = Math.ceil(users.length / pageSize);\r\n+    const pages = Array.from({ length: pageCount }, (_, i) => i + 1);\r\n+  \r\n+    const handlePageClick = (page) => {\r\n+      setCurrentPage(page);\r\n+    };\r\n+  \r\n+  \r\n+  \r\n+    const handleBanUser = async (e, user) => {\r\n+      e.preventDefault();\r\n+  \r\n+      try {\r\n+        const response = await axios.post(\r\n+          \"http://127.0.0.1:5000/users/ban/\" + user.email\r\n+        );\r\n+  \r\n+        console.log(response);\r\n+        fetchData();\r\n+        user.banned = !user.banned;\r\n+        if (response.data === true) {\r\n+        }\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+      return;\r\n+    };\r\n+    const paginatedUsers = users.slice(\r\n+      (currentPage - 1) * pageSize,\r\n+      currentPage * pageSize\r\n+    );\r\n+  \r\n+    const handleUserClick = (email) => {\r\n+      // navigate to user details page with id\r\n+      window.location.href = `/admin/user-profile/${email}`;\r\n+    };\r\n+  \r\n+\r\n+\r\n+        return (\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625305288,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,5 +129,5 @@\n         );\r\n     }\r\n }\r\n \r\n-export d\n\\ No newline at end of file\n+export default UsersList;\r\n"
                },
                {
                    "date": 1697625313770,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,133 @@\n+import React, { Component } from \"react\";\r\n+import axios from \"axios\";\r\n+import { Table, Button } from \"reactstrap\";\r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+function UsersList() {\r\n+    const [users, setUsers] = useState([]);\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+  \r\n+    const fetchData = async () => {\r\n+      try {\r\n+        const response = await axios.get(\"http://127.0.0.1:5000/all-users\");\r\n+        const filteredData = response.data.users.filter(\r\n+          (user) => user.role === \"Agence\" || user.role === \"Admin\" || user.role === \"Client\"\r\n+        );\r\n+  \r\n+        console.log(filteredData);\r\n+        setUsers(filteredData);\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+    };\r\n+  \r\n+    function getCookie(key) {\r\n+      var b = document.cookie.match(\"(^|;)\\\\s*\" + key + \"\\\\s*=\\\\s*([^;]+)\");\r\n+      return b ? b.pop() : \"\";\r\n+    }\r\n+  \r\n+    useEffect(() => {\r\n+      /*\r\n+      if (getCookie(\"role\") !== \"admin\") window.location.href = \"/auth/login\";*/\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      fetchData();\r\n+    }, []);\r\n+  \r\n+    useEffect(() => {\r\n+      console.log(users);\r\n+    }, [users]);\r\n+  \r\n+    const pageSize = 5;\r\n+    const pageCount = Math.ceil(users.length / pageSize);\r\n+    const pages = Array.from({ length: pageCount }, (_, i) => i + 1);\r\n+  \r\n+    const handlePageClick = (page) => {\r\n+      setCurrentPage(page);\r\n+    };\r\n+  \r\n+  \r\n+  \r\n+    const handleBanUser = async (e, user) => {\r\n+      e.preventDefault();\r\n+  \r\n+      try {\r\n+        const response = await axios.post(\r\n+          \"http://127.0.0.1:5000/users/ban/\" + user.email\r\n+        );\r\n+  \r\n+        console.log(response);\r\n+        fetchData();\r\n+        user.banned = !user.banned;\r\n+        if (response.data === true) {\r\n+        }\r\n+      } catch (error) {\r\n+        console.log(error);\r\n+      }\r\n+      return;\r\n+    };\r\n+    const paginatedUsers = users.slice(\r\n+      (currentPage - 1) * pageSize,\r\n+      currentPage * pageSize\r\n+    );\r\n+  \r\n+    const handleUserClick = (email) => {\r\n+      // navigate to user details page with id\r\n+      window.location.href = `/admin/user-profile/${email}`;\r\n+    };\r\n+  \r\n+\r\n+\r\n+        return (\r\n+            <>\r\n+            <div className=\"content\">\r\n+                <ToastContainer />\r\n+                <h1 className=\"mb-4\">Gallery List</h1>\r\n+                <Table striped bordered hover responsive>\r\n+                    <thead>\r\n+                        <tr>\r\n+                            <th>ID</th>\r\n+                            <th>Gallery Theme</th>\r\n+                            <th>Gallery Description</th>\r\n+                            <th>Gallery Start Date</th>\r\n+                            <th>Gallery End Date</th>\r\n+                            <th>Location</th>\r\n+                            <th>DELETE</th>\r\n+                            <th>EDIT</th>\r\n+                        </tr>\r\n+                    </thead>\r\n+                    <tbody>\r\n+                        {galleries.map((gallery) => (\r\n+                            <tr key={gallery.id}>\r\n+                                <td>{gallery.id}</td>\r\n+                                <td>{gallery.theme}</td>\r\n+                                <td>{gallery.description}</td>\r\n+                                <td>{gallery.start_date}</td>\r\n+                                <td>{gallery.end_date}</td>\r\n+                                <td>{gallery.location}</td>\r\n+                                <td>\r\n+                                    <Button\r\n+                                        color=\"danger\"\r\n+                                        onClick={() => this.handleDelete(gallery.id)}\r\n+                                    >\r\n+                                        Delete\r\n+                                    </Button>\r\n+                                </td>\r\n+                                <td>\r\n+                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n+                                        Edit\r\n+                                    </Link>\r\n+                                </td>\r\n+                            </tr>\r\n+                        ))}\r\n+                    </tbody>\r\n+                </Table>\r\n+            </div>\r\n+        \r\n+    }\r\n+}\r\n+\r\n+export default UsersList;\r\n"
                }
            ],
            "date": 1697624622255,
            "name": "Commit-0",
            "content": "import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Table, Button } from \"reactstrap\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass UsersList extends Component {\r\n    state = {\r\n        galleries: [],\r\n    };\r\n\r\n    componentDidMount() {\r\n        // Fetch galleries from the API when the component mounts\r\n        axios\r\n            .get(\"http://localhost:8086/galleries\")\r\n            .then((response) => {\r\n                const galleries = response.data;\r\n                this.setState({ galleries }); // Load galleries\r\n                toast.success(\"Welcome to list gallery\");\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching galleries:\", error);\r\n            });\r\n    }\r\n\r\n    handleDelete = (galleryId) => {\r\n        // Make a DELETE request to delete the gallery with the given ID\r\n        axios\r\n            .delete(`http://localhost:8086/galleries/${galleryId}`)\r\n            .then((response) => {\r\n                // Remove the deleted gallery from the state\r\n                this.setState((prevState) => ({\r\n                    galleries: prevState.galleries.filter((gallery) => gallery.id !== galleryId),\r\n                }));\r\n\r\n                // Display a success notification\r\n                toast.success(\"Gallery deleted successfully\");\r\n\r\n                console.log(\"Gallery deleted:\", response.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error deleting gallery:\", error);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const { galleries } = this.state;\r\n\r\n        return (\r\n            <div className=\"content\">\r\n                <ToastContainer />\r\n                <h1 className=\"mb-4\">Gallery List</h1>\r\n                <Table striped bordered hover responsive>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>Gallery Theme</th>\r\n                            <th>Gallery Description</th>\r\n                            <th>Gallery Start Date</th>\r\n                            <th>Gallery End Date</th>\r\n                            <th>Location</th>\r\n                            <th>DELETE</th>\r\n                            <th>EDIT</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {galleries.map((gallery) => (\r\n                            <tr key={gallery.id}>\r\n                                <td>{gallery.id}</td>\r\n                                <td>{gallery.theme}</td>\r\n                                <td>{gallery.description}</td>\r\n                                <td>{gallery.start_date}</td>\r\n                                <td>{gallery.end_date}</td>\r\n                                <td>{gallery.location}</td>\r\n                                <td>\r\n                                    <Button\r\n                                        color=\"danger\"\r\n                                        onClick={() => this.handleDelete(gallery.id)}\r\n                                    >\r\n                                        Delete\r\n                                    </Button>\r\n                                </td>\r\n                                <td>\r\n                                    <Link to={`/admin/gallery/edit/${gallery.id}`} className=\"btn btn-primary btn-sm ml-2\">\r\n                                        Edit\r\n                                    </Link>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GalleryList;\r\n"
        }
    ]
}